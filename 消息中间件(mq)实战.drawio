<mxfile host="app.diagrams.net" modified="2021-04-28T10:51:45.609Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.182 Safari/537.36" etag="MS7Cd_8sw-TgbOUefLxH" version="14.6.6" type="github" pages="4">
  <diagram id="b8MhGM4gEZMRXQwS6kFo" name="系统架构">
    <mxGraphModel dx="866" dy="1691" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="cdJhldStNLq4XBj77vGe-123" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;glass=0;sketch=0;align=center;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="660" y="1794" width="131" height="86" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-134" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#fa6800;strokeColor=#C73500;" parent="1" source="cdJhldStNLq4XBj77vGe-122" target="cdJhldStNLq4XBj77vGe-130" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-136" value="TCP长连接" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-134" vertex="1" connectable="0">
          <mxGeometry x="0.139" y="-3" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-122" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;glass=0;sketch=0;align=center;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="1720" width="131" height="90" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-1" value="系统架构" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=0;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="33.5" y="30" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="268.5" y="185" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-2" value="百万日活用户" style="ellipse;whiteSpace=wrap;html=1;shadow=1;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="78.5" y="165" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="538.5" y="148" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-13" value="数据存储" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-11" vertex="1" connectable="0">
          <mxGeometry x="0.2438" y="-2" relative="1" as="geometry">
            <mxPoint x="-12.5" y="-5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="558.5" y="233" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-19" value="系统对接" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-17" vertex="1" connectable="0">
          <mxGeometry x="-0.1701" y="1" relative="1" as="geometry">
            <mxPoint x="10" y="-1.5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-4" value="" style="whiteSpace=wrap;html=1;aspect=fixed;shadow=1;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="268.5" y="105" width="170" height="170" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-5" value="订单系统" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="328.5" y="80" width="50" height="15" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-6" value="下单模块" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="288.5" y="125" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-7" value="异步模块" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="368.5" y="125" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-8" value="查询模块" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="288.5" y="175" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-9" value="退货模块" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="368.5" y="175" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-10" value="大促模块" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="288.5" y="225" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="cdJhldStNLq4XBj77vGe-12" target="cdJhldStNLq4XBj77vGe-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="648.5" y="145" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-16" value="兄弟团队提供数据" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-14" vertex="1" connectable="0">
          <mxGeometry x="0.1846" relative="1" as="geometry">
            <mxPoint x="-17" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-12" value="数据库" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;shadow=0;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="538.5" y="115" width="50" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-15" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="718.5" y="125" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-18" value="三方系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="558.5" y="215" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" source="cdJhldStNLq4XBj77vGe-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="360" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-24" value="同步调用" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-22" vertex="1" connectable="0">
          <mxGeometry x="0.19" y="-1" relative="1" as="geometry">
            <mxPoint x="-19" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-21" value="系统A&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="80" y="325" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" source="cdJhldStNLq4XBj77vGe-23" target="cdJhldStNLq4XBj77vGe-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-26" value="返回请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-25" vertex="1" connectable="0">
          <mxGeometry x="-0.1437" y="3" relative="1" as="geometry">
            <mxPoint x="-23" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-23" value="系统B" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="360" y="325" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-29" value="系统A&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="80" y="475" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;exitPerimeter=0;" parent="1" source="cdJhldStNLq4XBj77vGe-33" target="cdJhldStNLq4XBj77vGe-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-31" value="返回请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-30" vertex="1" connectable="0">
          <mxGeometry x="-0.1437" y="3" relative="1" as="geometry">
            <mxPoint x="-23" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-32" value="系统B" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="360" y="475" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-33" target="cdJhldStNLq4XBj77vGe-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-33" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;shadow=0;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="240" y="460" width="50" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" source="cdJhldStNLq4XBj77vGe-29" target="cdJhldStNLq4XBj77vGe-33" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="360" y="495" as="targetPoint" />
            <mxPoint x="160" y="495" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-35" value="发起请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-34" vertex="1" connectable="0">
          <mxGeometry x="0.19" y="-1" relative="1" as="geometry">
            <mxPoint x="-6" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-38" value="Kafka" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="600" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-39" value="RabbitMQ" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="320" y="600" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-40" value="RocketMQ" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;" parent="1" vertex="1">
          <mxGeometry x="570" y="600" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-41" value="MQ如何集群化部署来支撑高并发的" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="80" y="690" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-43" value="海量消息" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="80" y="800" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-45" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="313.5" y="1251.15" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-45" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="73.5" y="1196.15" width="140" height="110" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-46" value="produce" style="text;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="113.5" y="1166.15" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-47" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="93.5" y="1206.15" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-48" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="78.5" y="1266.15" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-49" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="133.5" y="1236.15" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-52" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="313.5" y="1226.15" width="280" height="140" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-53" value="broker" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="438.5" y="1226.15" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-54" target="cdJhldStNLq4XBj77vGe-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-54" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="673.5" y="1234.15" width="140" height="110" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-55" value="consumer" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="713.5" y="1204.15" width="60" height="22" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-56" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="693.5" y="1244.15" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-57" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="678.5" y="1304.15" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-58" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="733.5" y="1274.15" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-81" style="edgeStyle=orthogonalEdgeStyle;curved=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.07;exitY=0.4;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;fillColor=#a20025;strokeColor=#6F0000;" parent="1" source="cdJhldStNLq4XBj77vGe-62" target="cdJhldStNLq4XBj77vGe-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-82" value="获取路由消息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-81" vertex="1" connectable="0">
          <mxGeometry x="-0.1135" y="14" relative="1" as="geometry">
            <mxPoint x="17.5" y="45.4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-83" style="edgeStyle=orthogonalEdgeStyle;curved=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.875;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.171;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#a20025;strokeColor=#6F0000;" parent="1" source="cdJhldStNLq4XBj77vGe-62" target="cdJhldStNLq4XBj77vGe-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-84" value="获取路由消息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-83" vertex="1" connectable="0">
          <mxGeometry x="-0.1801" y="-16" relative="1" as="geometry">
            <mxPoint x="-21.4" y="54.15" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-62" value="" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="320" y="950" width="270" height="110" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-63" value="NameServer" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#82b366;fillColor=#d5e8d4;" parent="1" vertex="1">
          <mxGeometry x="440" y="930" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-64" value="节点间无通信" style="ellipse;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="413.5" y="970" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-65" value="负责管理集群中的所有的Broker信息" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="550" y="930" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-75" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;curved=1;fillColor=#d80073;strokeColor=#A50040;" parent="1" source="cdJhldStNLq4XBj77vGe-68" target="cdJhldStNLq4XBj77vGe-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-87" value="注册，并每隔30s发送心跳" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-75" vertex="1" connectable="0">
          <mxGeometry x="-0.3943" y="-8" relative="1" as="geometry">
            <mxPoint x="3.5" y="-56.15" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;curved=1;fillColor=#d80073;strokeColor=#A50040;" parent="1" source="cdJhldStNLq4XBj77vGe-68" target="cdJhldStNLq4XBj77vGe-76" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="503.5" y="1146.15" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-68" value="master" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="330" y="1266.15" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-69" target="cdJhldStNLq4XBj77vGe-68" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-92" value="slave 拉取消息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-70" vertex="1" connectable="0">
          <mxGeometry x="-0.1786" y="-1" relative="1" as="geometry">
            <mxPoint x="-7" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.717;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;fillColor=#0050ef;strokeColor=#001DBC;" parent="1" source="cdJhldStNLq4XBj77vGe-69" target="cdJhldStNLq4XBj77vGe-64" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-91" value="注册，并每隔30s发送一次心跳" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-78" vertex="1" connectable="0">
          <mxGeometry x="-0.4749" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.667;entryY=1.133;entryDx=0;entryDy=0;curved=1;fillColor=#0050ef;strokeColor=#001DBC;entryPerimeter=0;" parent="1" source="cdJhldStNLq4XBj77vGe-69" target="cdJhldStNLq4XBj77vGe-76" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="524.7132034355964" y="1141.7566017177983" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-69" value="slave" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="512" y="1266.15" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-71" value="master" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="330" y="1316.15" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-73" target="cdJhldStNLq4XBj77vGe-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-93" value="Pull 模式" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-72" vertex="1" connectable="0">
          <mxGeometry x="-0.1786" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-73" value="slave" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="512" y="1316.15" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-76" value="peer-to-peer" style="ellipse;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="480" y="990" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-80" value="每个broker 启动都得向所有的nameserver进行注册" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="547" y="960" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-85" value="主动去nameserver 上拉取broker信息" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="105" y="1080" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-86" value="主动去nameserver 上拉取broker信息" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="582" y="1140" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-89" style="edgeStyle=orthogonalEdgeStyle;curved=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-88" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="330" y="930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-88" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=0;fillColor=#a20025;strokeColor=#6F0000;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="374" y="1000" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-90" value="每隔10s , 运行一个任务，去检查一下各个Broker的最近一次心跳时间&lt;br&gt;，如果某个broker 超过120s 没有发送心跳，就认为borker 宕掉了" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="120" y="885" width="380" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-94" value="master 主要是接收系统消息的写入，然后同步给slave ,&amp;nbsp; &lt;br&gt;消费者拉取消息的时候， 有可能从master 获取也有可能从slave 获取&lt;br&gt;&lt;br&gt;slave 挂了 对系统有一点影响，但是影响不大&lt;br&gt;&lt;br&gt;master 挂了，4.5之前无法自动切换，需要手动切换， 4.5之后引入了 dledger的部署方式，可以自动切换" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="243.5" y="1380" width="570" height="90" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-96" value="生产落地MQ高可用架构" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=0;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="40" y="1500" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-125" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-97" target="cdJhldStNLq4XBj77vGe-122" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-126" value="拉取路由信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-125" vertex="1" connectable="0">
          <mxGeometry x="0.3603" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-97" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=left;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="240" y="1590" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-98" value="nameserver" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;sketch=0;align=center;glass=0;fillColor=#008a00;strokeColor=#005700;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="254" y="1610" width="76" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-99" value="nameserver" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;sketch=0;align=center;glass=0;fillColor=#008a00;strokeColor=#005700;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="350" y="1610" width="76" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-100" value="nameserver" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;sketch=0;align=center;glass=0;fillColor=#008a00;strokeColor=#005700;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="450" y="1610" width="76" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-101" value="NameServer 集群" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;glass=0;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="320" y="1560" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-102" value="NameServer采用 peer-to-peer 的模式设计，&lt;br&gt;彼此之间无通信" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="553.5" y="1610" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-106" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-103" target="cdJhldStNLq4XBj77vGe-104" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="360" y="1755" />
              <mxPoint x="360" y="1735" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-107" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-103" target="cdJhldStNLq4XBj77vGe-105" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-109" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fillColor=#a20025;strokeColor=#6F0000;" parent="1" source="cdJhldStNLq4XBj77vGe-103" target="cdJhldStNLq4XBj77vGe-98" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-110" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fillColor=#a20025;strokeColor=#6F0000;" parent="1" source="cdJhldStNLq4XBj77vGe-103" target="cdJhldStNLq4XBj77vGe-99" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="292" y="1710" />
              <mxPoint x="388" y="1710" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-111" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.658;entryY=1.067;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#a20025;strokeColor=#6F0000;" parent="1" source="cdJhldStNLq4XBj77vGe-103" target="cdJhldStNLq4XBj77vGe-100" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="292" y="1710" />
              <mxPoint x="500" y="1710" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-103" value="master" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;glass=0;sketch=0;align=center;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="262" y="1740" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-112" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;fillColor=#e3c800;strokeColor=#B09500;" parent="1" source="cdJhldStNLq4XBj77vGe-104" target="cdJhldStNLq4XBj77vGe-98" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="480" y="1680" />
              <mxPoint x="311" y="1680" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-113" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.632;entryY=0.967;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#e3c800;strokeColor=#B09500;" parent="1" source="cdJhldStNLq4XBj77vGe-104" target="cdJhldStNLq4XBj77vGe-99" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="480" y="1680" />
              <mxPoint x="398" y="1680" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-114" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.408;entryY=1.1;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#e3c800;strokeColor=#B09500;" parent="1" source="cdJhldStNLq4XBj77vGe-104" target="cdJhldStNLq4XBj77vGe-100" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="481" y="1710" />
              <mxPoint x="481" y="1710" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-104" value="slave" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;glass=0;sketch=0;align=center;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="450" y="1720" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-137" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;fillColor=#fa6800;strokeColor=#C73500;" parent="1" source="cdJhldStNLq4XBj77vGe-105" target="cdJhldStNLq4XBj77vGe-123" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-138" value="TCP 长连接" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cdJhldStNLq4XBj77vGe-137" vertex="1" connectable="0">
          <mxGeometry x="0.1206" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-105" value="slave" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;glass=0;sketch=0;align=center;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="400" y="1780" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-108" value="一主两从 ， NameServer 注册" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="370" y="1754" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-115" value="主从数据同步" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;glass=0;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="315" y="1810" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-117" value="采用TCP 长连接进行通信 ， 定时将心跳发送过去&lt;br&gt;NameServer&amp;nbsp; 每隔10s , 就进行检测，如果broker 120s&amp;nbsp; 没有发送心跳，就认为宕机了" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;glass=0;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="258" y="1960" width="476" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-118" value="生产者" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;glass=0;sketch=0;align=center;fillColor=#f0a30a;strokeColor=#BD7000;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="65" y="1728" width="76" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-119" value="生产者" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;glass=0;sketch=0;align=center;fillColor=#f0a30a;strokeColor=#BD7000;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="66" y="1770" width="75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-120" value="消费者" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;glass=0;sketch=0;align=center;fillColor=#fa6800;strokeColor=#C73500;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="687.5" y="1802" width="76" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-121" value="消费者" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;glass=0;sketch=0;align=center;fillColor=#fa6800;strokeColor=#C73500;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="687.5" y="1840" width="76" height="26" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-124" value="核心数据模型 Topic -&amp;nbsp; 数据集合" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;glass=0;dashed=1;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="254" y="2020" width="176" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-127" value="根据路由信息找到自己要投递消息的topic 分布在哪台Broker 上，此时可以根据负载均衡算法，从里面选择一台Borker 机器出来， 然后建立TCP长连接 ， 通过长连接向Ｂｒｏｋｅｒ发送消息即可" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;glass=0;dashed=1;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="254" y="2050" width="570" height="50" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-128" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-130" target="cdJhldStNLq4XBj77vGe-131" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-129" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-130" target="cdJhldStNLq4XBj77vGe-132" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-130" value="master" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;glass=0;sketch=0;align=center;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="258" y="1850" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-131" value="slave" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;glass=0;sketch=0;align=center;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="396" y="1830" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-132" value="slave" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;glass=0;sketch=0;align=center;fillColor=#1ba1e2;strokeColor=#006EAF;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="396" y="1884" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdJhldStNLq4XBj77vGe-133" value="一主两从 ， NameServer 注册" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="366" y="1864" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="a1FbAh75zE6ChC6sKaxF-1" value="压测关注的内容" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="102" y="2150" width="480" height="180" as="geometry" />
        </mxCell>
        <mxCell id="a1FbAh75zE6ChC6sKaxF-2" value="CPU" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="134" y="2190" width="96" height="40" as="geometry" />
        </mxCell>
        <mxCell id="a1FbAh75zE6ChC6sKaxF-3" value="IO" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="243.5" y="2170" width="76.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="a1FbAh75zE6ChC6sKaxF-4" value="磁盘" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="348" y="2190" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="a1FbAh75zE6ChC6sKaxF-5" value="内存" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="448" y="2170" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="a1FbAh75zE6ChC6sKaxF-6" value="网络" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="414" y="2270" width="116" height="40" as="geometry" />
        </mxCell>
        <mxCell id="a1FbAh75zE6ChC6sKaxF-7" value="JVM GC" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="199" y="2270" width="116" height="40" as="geometry" />
        </mxCell>
        <mxCell id="a1FbAh75zE6ChC6sKaxF-8" value="参数调整" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="93.5" y="2410" width="536.5" height="210" as="geometry" />
        </mxCell>
        <mxCell id="a1FbAh75zE6ChC6sKaxF-9" value="vm.overcommit_memory = 1&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="122" y="2430" width="188" height="40" as="geometry" />
        </mxCell>
        <mxCell id="a1FbAh75zE6ChC6sKaxF-10" value="vm.max_map_cout&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="340" y="2430" width="188" height="40" as="geometry" />
        </mxCell>
        <mxCell id="a1FbAh75zE6ChC6sKaxF-11" value="vm.swappiness" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="2510" width="188" height="40" as="geometry" />
        </mxCell>
        <mxCell id="a1FbAh75zE6ChC6sKaxF-12" value="ulimit" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="414" y="2510" width="188" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Nw0g1oIwdo4JGNvuPuyO-2" value="&lt;p style=&quot;line-height: 40%&quot;&gt;Topic 是一个逻辑概念，它的数据是分布式存储在多个 Master Borker 中的 ， 当消息时，会根据一定的负载均衡算法和容错算法把消息发送到Broker中&lt;/p&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#82b366;fillColor=#d5e8d4;" parent="1" vertex="1">
          <mxGeometry x="7" y="2680" width="810" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Nw0g1oIwdo4JGNvuPuyO-3" value="同步发送消息到RocketMQ" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="43" y="2760" width="157" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Nw0g1oIwdo4JGNvuPuyO-5" value="同步发送模式： 在发送代码阶段，程序卡住，等待MQ响应， 一直到返回结果" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="80" y="2820" width="430" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Nw0g1oIwdo4JGNvuPuyO-6" value="异步发送模式：发送消息之后，代码继续执行，MQ返回结果的时候会回调 回调函数" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="83.5" y="2860" width="460" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Nw0g1oIwdo4JGNvuPuyO-7" value="单向发送消息： 发送一个消息给MQ , 然后代码就往下走了， 不会关注MQ是否响应了" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="78.5" y="2903" width="470" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Nw0g1oIwdo4JGNvuPuyO-8" value="从 RocketMQ 消费消息" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="41.5" y="2950" width="157" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Nw0g1oIwdo4JGNvuPuyO-9" value="push 消费模式：Broker 主动的推送消息给消费者" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="80" y="3000" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Nw0g1oIwdo4JGNvuPuyO-10" value="pull 消费模式：消费者主动发送请求到Broker 去拉取消息" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="80" y="3040" width="320" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Nw0g1oIwdo4JGNvuPuyO-12" value="CDN" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="94" y="3150" width="96" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Nw0g1oIwdo4JGNvuPuyO-13" value="Nginx" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="190" y="3150" width="96" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Nw0g1oIwdo4JGNvuPuyO-14" value="Redis" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="286" y="3150" width="96" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Nw0g1oIwdo4JGNvuPuyO-15" value="多级缓存架构" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="428" y="3155" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cdJhldStNLq4XBj77vGe-7" target="cdJhldStNLq4XBj77vGe-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-49" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="84" y="-1070" width="660" height="210" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-25" value="购物车" style="rounded=1;whiteSpace=wrap;html=1;arcSize=40;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="pX5oEkfaSRkga1ncL1JL-49" vertex="1">
          <mxGeometry x="227.89817232375978" width="65.48302872062663" height="28.636363636363637" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-26" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;" parent="pX5oEkfaSRkga1ncL1JL-49" source="pX5oEkfaSRkga1ncL1JL-25" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="260.6396866840731" y="226.22727272727275" as="targetPoint" />
            <Array as="points">
              <mxPoint x="260.6396866840731" y="92.5909090909091" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-27" value="订单系统" style="rounded=1;whiteSpace=wrap;html=1;arcSize=40;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="pX5oEkfaSRkga1ncL1JL-49" vertex="1">
          <mxGeometry x="353.6945169712793" width="65.48302872062663" height="28.636363636363637" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-28" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;" parent="pX5oEkfaSRkga1ncL1JL-49" source="pX5oEkfaSRkga1ncL1JL-27" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="386.4360313315927" y="229.0909090909091" as="targetPoint" />
            <Array as="points">
              <mxPoint x="386.4360313315927" y="95.45454545454545" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-29" value="支付系统" style="rounded=1;whiteSpace=wrap;html=1;arcSize=40;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="pX5oEkfaSRkga1ncL1JL-49" vertex="1">
          <mxGeometry x="474.75195822454305" width="65.48302872062663" height="28.636363636363637" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-30" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;startArrow=none;" parent="pX5oEkfaSRkga1ncL1JL-49" source="pX5oEkfaSRkga1ncL1JL-43" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="507.49347258485636" y="229.0909090909091" as="targetPoint" />
            <Array as="points">
              <mxPoint x="507.49347258485636" y="95.45454545454545" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-31" value="配送系统" style="rounded=1;whiteSpace=wrap;html=1;arcSize=40;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="pX5oEkfaSRkga1ncL1JL-49" vertex="1">
          <mxGeometry x="594.5169712793733" width="65.48302872062663" height="28.636363636363637" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-32" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;" parent="pX5oEkfaSRkga1ncL1JL-49" source="pX5oEkfaSRkga1ncL1JL-31" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="627.2584856396867" y="229.0909090909091" as="targetPoint" />
            <Array as="points">
              <mxPoint x="627.2584856396867" y="95.45454545454545" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-34" value="用户" style="rounded=1;whiteSpace=wrap;html=1;arcSize=40;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="pX5oEkfaSRkga1ncL1JL-49" vertex="1">
          <mxGeometry width="65.48302872062663" height="28.636363636363637" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-35" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;" parent="pX5oEkfaSRkga1ncL1JL-49" source="pX5oEkfaSRkga1ncL1JL-34" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="32.74151436031332" y="229.0909090909091" as="targetPoint" />
            <Array as="points">
              <mxPoint x="32.74151436031332" y="95.45454545454545" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-37" value="① 浏览商品" style="html=1;verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;" parent="pX5oEkfaSRkga1ncL1JL-49" target="pX5oEkfaSRkga1ncL1JL-36" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="36.61879895561358" y="47.72727272727273" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="79.69973890339426" y="66.81818181818183" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-38" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" parent="pX5oEkfaSRkga1ncL1JL-49" vertex="1">
          <mxGeometry x="256.33159268929506" y="90.68181818181819" width="8.616187989556135" height="28.636363636363637" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-39" value="② 添加购物车" style="html=1;verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;entryX=-0.3;entryY=0.525;entryDx=0;entryDy=0;entryPerimeter=0;" parent="pX5oEkfaSRkga1ncL1JL-49" target="pX5oEkfaSRkga1ncL1JL-38" edge="1">
          <mxGeometry x="0.3458" relative="1" as="geometry">
            <mxPoint x="36.61879895561358" y="85.9090909090909" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="114.16449086161879" y="105.95454545454545" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-41" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" parent="pX5oEkfaSRkga1ncL1JL-49" vertex="1">
          <mxGeometry x="382.12793733681457" y="124.0909090909091" width="8.616187989556135" height="38.18181818181819" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-42" value="③ 提交订单" style="html=1;verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;" parent="pX5oEkfaSRkga1ncL1JL-49" target="pX5oEkfaSRkga1ncL1JL-41" edge="1">
          <mxGeometry x="0.499" relative="1" as="geometry">
            <mxPoint x="36.61879895561358" y="124.0909090909091" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="122.78067885117494" y="152.72727272727275" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-44" value="④ 订单支付" style="html=1;verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;" parent="pX5oEkfaSRkga1ncL1JL-49" target="pX5oEkfaSRkga1ncL1JL-43" edge="1">
          <mxGeometry x="0.705" relative="1" as="geometry">
            <mxPoint x="36.61879895561358" y="162.27272727272728" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="122.78067885117494" y="190.9090909090909" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-43" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" parent="pX5oEkfaSRkga1ncL1JL-49" vertex="1">
          <mxGeometry x="503.6161879895561" y="171.8181818181818" width="8.616187989556135" height="38.18181818181819" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-45" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=none;endSize=8;strokeColor=#ff0000;" parent="pX5oEkfaSRkga1ncL1JL-49" source="pX5oEkfaSRkga1ncL1JL-29" target="pX5oEkfaSRkga1ncL1JL-43" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="507.49347258485636" y="229.0909090909091" as="targetPoint" />
            <Array as="points" />
            <mxPoint x="507.49347258485636" y="28.636363636363637" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-46" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" parent="pX5oEkfaSRkga1ncL1JL-49" vertex="1">
          <mxGeometry x="625.5352480417755" y="171.8181818181818" width="8.616187989556135" height="38.18181818181819" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-47" value="⑤ 商品配送" style="html=1;verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;" parent="pX5oEkfaSRkga1ncL1JL-49" target="pX5oEkfaSRkga1ncL1JL-46" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="519.1253263707572" y="181.36363636363637" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-48" value="" style="group" parent="pX5oEkfaSRkga1ncL1JL-49" vertex="1" connectable="0">
          <mxGeometry x="114.16449086161879" width="65.48302872062663" height="95.45454545454545" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-23" value="商品系统" style="rounded=1;whiteSpace=wrap;html=1;arcSize=40;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="pX5oEkfaSRkga1ncL1JL-48" vertex="1">
          <mxGeometry width="65.48302872062663" height="28.636363636363637" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-24" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;" parent="pX5oEkfaSRkga1ncL1JL-48" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="32.74151436031332" y="229.0909090909091" as="targetPoint" />
            <mxPoint x="33.17232375979113" y="21.954545454545457" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="32.74151436031332" y="95.45454545454545" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-36" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" parent="pX5oEkfaSRkga1ncL1JL-48" vertex="1">
          <mxGeometry x="27.571801566579637" y="47.72727272727273" width="8.616187989556137" height="38.18181818181819" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-50" value="系统流程" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="41.5" y="-1140" width="99" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-51" value="订单系统流程" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="-800" width="99" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" source="pX5oEkfaSRkga1ncL1JL-52" target="pX5oEkfaSRkga1ncL1JL-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="162" y="-685" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="pX5oEkfaSRkga1ncL1JL-52" target="pX5oEkfaSRkga1ncL1JL-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-60" value="4. 进行支付" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pX5oEkfaSRkga1ncL1JL-59" vertex="1" connectable="0">
          <mxGeometry x="-0.0567" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-52" value="用户" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;shadow=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="82" y="-720" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="pX5oEkfaSRkga1ncL1JL-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="150" y="-650" as="targetPoint" />
            <Array as="points">
              <mxPoint x="396" y="-650" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-57" value="3. 跳转支付" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pX5oEkfaSRkga1ncL1JL-56" vertex="1" connectable="0">
          <mxGeometry x="0.1639" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="pX5oEkfaSRkga1ncL1JL-53" target="pX5oEkfaSRkga1ncL1JL-70" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="530" y="-685" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-53" value="订单系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="348.5" y="-700" width="95" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-55" value="1. 提交订单" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="198" y="-710" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="pX5oEkfaSRkga1ncL1JL-58" target="pX5oEkfaSRkga1ncL1JL-61" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="372" y="-547" />
              <mxPoint x="372" y="-547" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;dashed=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" source="pX5oEkfaSRkga1ncL1JL-58" target="pX5oEkfaSRkga1ncL1JL-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-58" value="支付系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="348" y="-614" width="95" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;dashed=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" source="pX5oEkfaSRkga1ncL1JL-61" target="pX5oEkfaSRkga1ncL1JL-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-61" value="三方支付系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="348.5" y="-510" width="95" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-65" value="5、调用支付接口" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="268.5" y="-560" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-66" value="6、 支付通知" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="430" y="-550" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-68" value="7. 修改订单状态" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="420" y="-650" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-70" value="数据库" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;shadow=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="543.5" y="-715" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-71" value="2. 数据入库" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="448" y="-710" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-73" value="当前流程" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="-470" width="99" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="pX5oEkfaSRkga1ncL1JL-74" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="152" y="-265" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-77" value="更新订单状态" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pX5oEkfaSRkga1ncL1JL-76" vertex="1" connectable="0">
          <mxGeometry x="-0.1226" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="pX5oEkfaSRkga1ncL1JL-74" target="pX5oEkfaSRkga1ncL1JL-78" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-84" value="发送短信" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pX5oEkfaSRkga1ncL1JL-83" vertex="1" connectable="0">
          <mxGeometry x="-0.224" y="1" relative="1" as="geometry">
            <mxPoint x="-1" y="-15" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="pX5oEkfaSRkga1ncL1JL-74" target="pX5oEkfaSRkga1ncL1JL-79" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="500" y="-310" as="targetPoint" />
            <Array as="points">
              <mxPoint x="462" y="-265" />
              <mxPoint x="462" y="-315" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-86" value="扣减库存" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pX5oEkfaSRkga1ncL1JL-85" vertex="1" connectable="0">
          <mxGeometry x="-0.2038" relative="1" as="geometry">
            <mxPoint x="-2" y="-13" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="pX5oEkfaSRkga1ncL1JL-74" target="pX5oEkfaSRkga1ncL1JL-80" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-88" value="通知发货" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pX5oEkfaSRkga1ncL1JL-87" vertex="1" connectable="0">
          <mxGeometry x="0.1584" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="pX5oEkfaSRkga1ncL1JL-74" target="pX5oEkfaSRkga1ncL1JL-81" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="364" y="-220" />
              <mxPoint x="406" y="-220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-90" value="增加积分" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pX5oEkfaSRkga1ncL1JL-89" vertex="1" connectable="0">
          <mxGeometry x="0.4495" relative="1" as="geometry">
            <mxPoint y="-6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="pX5oEkfaSRkga1ncL1JL-74" target="pX5oEkfaSRkga1ncL1JL-82" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="364" y="-220" />
              <mxPoint x="270" y="-220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-92" value="发送红包| 优惠券" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="pX5oEkfaSRkga1ncL1JL-91" vertex="1" connectable="0">
          <mxGeometry x="0.4107" relative="1" as="geometry">
            <mxPoint y="17" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-74" value="订单系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="321" y="-280" width="88" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-75" value="数据库" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;shadow=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="93" y="-300" width="58" height="65" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-78" value="短信系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="324" y="-400" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-79" value="库存系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="543.5" y="-330" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-80" value="仓储系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="515.5" y="-210" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-81" value="积分系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="365.5" y="-150" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="pX5oEkfaSRkga1ncL1JL-82" value="促销系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="230" y="-150" width="80" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="tV2qd_1YS7YZi5ua2D5i" name="运行流程">
    <mxGraphModel dx="866" dy="522" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-0" />
        <mxCell id="ap82AtaBt_z3wmu0ILEm-1" parent="ap82AtaBt_z3wmu0ILEm-0" />
        <mxCell id="ap82AtaBt_z3wmu0ILEm-2" value="MessageQueue" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;sketch=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="40" y="40" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-4" value="创建订单的时候，需要指定一个很关键的参数， 就是MessageQueue ， 需要指定这个topic 对应了多少个队列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="70" y="100" width="590" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="ap82AtaBt_z3wmu0ILEm-1" source="ap82AtaBt_z3wmu0ILEm-5" target="ap82AtaBt_z3wmu0ILEm-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="ap82AtaBt_z3wmu0ILEm-1" source="ap82AtaBt_z3wmu0ILEm-5" target="ap82AtaBt_z3wmu0ILEm-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-5" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;sketch=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="90" y="170" width="200" height="110" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-6" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=0;fillColor=#d5e8d4;strokeColor=#82b366;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="110" y="200" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-7" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=0;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="180" y="211" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-8" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=0;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="180" y="242" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-9" value="Master Broker" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="145" y="170" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-10" value="topic" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="120" y="225" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-11" value="队列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="200" y="212" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-12" value="队列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="200" y="242" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-13" value="slave" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=0;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="380" y="182" width="86" height="32" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-14" value="slave" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=0;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="470" y="232" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-17" value="数据同步" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="310" y="215" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-18" value="&lt;font style=&quot;font-size: 12px&quot;&gt;MessageQueue&amp;nbsp; 是RocktetMQ中非常关键的一个数据分片机制，通过MessageQueue 将一个Topic 的数据拆分成了很多的数据分片，然后在每个Broker 上都存储一些MessageQueue&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;sketch=0;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="90" y="330" width="730" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-19" value="生产者发消息的时候存入哪个MessageQueue" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;sketch=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="40" y="370" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-21" value="Broker 如何持久化数据的" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;sketch=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="40" y="480" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-22" value="CommitLog 消息顺序写入机制" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;sketch=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="40" y="585" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-23" value="Broker 收到消息之后，会把这条消息，直接写入到磁盘上的日志文件中，这个日志文件叫 commitLog ,直接顺序写入这个文件" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="79" y="660" width="670" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="ap82AtaBt_z3wmu0ILEm-1" source="ap82AtaBt_z3wmu0ILEm-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="245" y="885" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-34" value="发送消息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="ap82AtaBt_z3wmu0ILEm-25" vertex="1" connectable="0">
          <mxGeometry x="0.25" relative="1" as="geometry">
            <mxPoint x="-23" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-24" value="生产者" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=0;align=center;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="65" y="870" width="55" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="ap82AtaBt_z3wmu0ILEm-1" source="ap82AtaBt_z3wmu0ILEm-26" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="480" y="885" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-35" value="持久化" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="ap82AtaBt_z3wmu0ILEm-27" vertex="1" connectable="0">
          <mxGeometry x="0.2222" y="-1" relative="1" as="geometry">
            <mxPoint x="-43" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="ap82AtaBt_z3wmu0ILEm-1" source="ap82AtaBt_z3wmu0ILEm-26" target="ap82AtaBt_z3wmu0ILEm-37" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="270" y="1050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-26" value="Broker" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;sketch=0;align=center;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="245" y="866.25" width="50" height="37.5" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-28" value="消息" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=center;fillColor=#fad9d5;strokeColor=#ae4132;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="481" y="825" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-29" value="消息" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=center;fillColor=#fad9d5;strokeColor=#ae4132;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="481" y="855" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="ap82AtaBt_z3wmu0ILEm-1" source="ap82AtaBt_z3wmu0ILEm-30" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="420" y="800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-30" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=left;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="481" y="915" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-31" value="消息" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=center;fillColor=#fad9d5;strokeColor=#ae4132;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="481" y="885" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ap82AtaBt_z3wmu0ILEm-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="565" y="930" as="targetPoint" />
            <mxPoint x="645" y="930" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-32" value="CommitLog" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;sketch=0;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="655" y="920" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-37" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=center;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="330" y="1010" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-38" value="Topic 下每个MessageQueue 都会有一系列的ConsumerQueue文件" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;sketch=0;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="65" y="960" width="190" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-39" value="Topic" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;sketch=0;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="155" y="895" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-40" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=center;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="330" y="1050" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-41" value="ConsumerQueue" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;sketch=0;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="340" y="980" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="ap82AtaBt_z3wmu0ILEm-1" source="ap82AtaBt_z3wmu0ILEm-37" target="ap82AtaBt_z3wmu0ILEm-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-50" value="保存的数据" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="ap82AtaBt_z3wmu0ILEm-47" vertex="1" connectable="0">
          <mxGeometry x="-0.2289" y="-3" relative="1" as="geometry">
            <mxPoint y="-18" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="ap82AtaBt_z3wmu0ILEm-1" source="ap82AtaBt_z3wmu0ILEm-42" target="ap82AtaBt_z3wmu0ILEm-31" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="454" y="900" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-49" value="地址引用" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="ap82AtaBt_z3wmu0ILEm-48" vertex="1" connectable="0">
          <mxGeometry x="-0.4105" relative="1" as="geometry">
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-42" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=center;fillColor=#fad7ac;strokeColor=#b46504;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="441" y="1015" width="25" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-45" value="一条消息对应在CommitLog 文件中的Offset 偏移量 ，消息的长度， tag的hashcode" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=center;dashed=1;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="640" y="960" width="160" height="55" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="ap82AtaBt_z3wmu0ILEm-1" source="ap82AtaBt_z3wmu0ILEm-52" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540" y="775" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-52" value="顺序写&lt;br&gt;写入os cache" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=0;align=center;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="379" y="750" width="87" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="ap82AtaBt_z3wmu0ILEm-1" source="ap82AtaBt_z3wmu0ILEm-54" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="660" y="775" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-54" value="系统线程" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=center;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="540" y="757.5" width="70" height="35" as="geometry" />
        </mxCell>
        <mxCell id="ap82AtaBt_z3wmu0ILEm-56" value="写入文件" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;rounded=0;shadow=0;dashed=1;sketch=0;align=center;dashPattern=1 1;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="660" y="742.5" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-0" value="消费组" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;sketch=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="40" y="1120" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ap82AtaBt_z3wmu0ILEm-1" source="qWxfmrXoHlA7xIEVAko6-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="245" y="1300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-1" value="订单系统" style="rounded=0;whiteSpace=wrap;html=1;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="79" y="1280" width="81" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-6" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="ap82AtaBt_z3wmu0ILEm-1" source="qWxfmrXoHlA7xIEVAko6-4" target="qWxfmrXoHlA7xIEVAko6-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-12" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="ap82AtaBt_z3wmu0ILEm-1" source="qWxfmrXoHlA7xIEVAko6-4" target="qWxfmrXoHlA7xIEVAko6-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="443" y="1300" />
              <mxPoint x="443" y="1390" />
              <mxPoint x="595" y="1390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-4" value="master" style="rounded=0;whiteSpace=wrap;html=1;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="245" y="1285" width="95" height="30" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-11" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="ap82AtaBt_z3wmu0ILEm-1" source="qWxfmrXoHlA7xIEVAko6-5" target="qWxfmrXoHlA7xIEVAko6-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-5" value="slave" style="rounded=1;whiteSpace=wrap;html=1;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="400" y="1225" width="81" height="35" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-7" value="库存系统" style="rounded=1;whiteSpace=wrap;html=1;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="550" y="1190" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-8" value="库存系统" style="rounded=1;whiteSpace=wrap;html=1;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="560" y="1213" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-9" value="营销系统" style="rounded=1;whiteSpace=wrap;html=1;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="545" y="1300" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-10" value="营销系统" style="rounded=1;whiteSpace=wrap;html=1;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="555" y="1323" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-13" value="不同的系统应该设置不同的消费组，如果不同的消费组订阅了同一个Topic ，对Topic 里的一条消息，每个消费组都会获取到这条消息" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="63" y="1420" width="720" height="50" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-14" value="集群模式消费&amp;amp;广播模式消费" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;sketch=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="40" y="1520" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-15" value="集群模式：一个消费组获取到一条消息，只会交给组内的一台机器去处理，不是每台机器都可以获取到这条消息的&lt;br&gt;广播模式：对于消费组获取到的一条消息，组内的每台机器都可以获取到这条消息。&lt;br&gt;&lt;br&gt;相对与集群模式，常见基本上都是使用集群模式来进行消费的" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="79" y="1590" width="741" height="80" as="geometry" />
        </mxCell>
        <mxCell id="qWxfmrXoHlA7xIEVAko6-16" value="66" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ap82AtaBt_z3wmu0ILEm-1" vertex="1">
          <mxGeometry x="90" y="1780" width="40" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="ScrWjYJALM4uv0Pz0lzF" name="生产案例">
    <mxGraphModel dx="1420" dy="834" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="bJewtTVBS80Dh4kZox1g-0" />
        <mxCell id="bJewtTVBS80Dh4kZox1g-1" parent="bJewtTVBS80Dh4kZox1g-0" />
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-31" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-26" target="NaIEnIuPGSC9cdyRH1B3-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="224" y="958" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-26" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=center;dashed=1;fillColor=#f9f7ed;strokeColor=#36393d;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="54" y="878" width="80" height="210" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-21" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-19" target="NaIEnIuPGSC9cdyRH1B3-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="379" y="1128" />
              <mxPoint x="334" y="1058" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-22" value="① 抢购商品" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NaIEnIuPGSC9cdyRH1B3-21" vertex="1" connectable="0">
          <mxGeometry x="0.0177" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-53" value="人机校验" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NaIEnIuPGSC9cdyRH1B3-21" vertex="1" connectable="0">
          <mxGeometry x="0.3866" relative="1" as="geometry">
            <mxPoint x="-10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-54" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;fillColor=#f8cecc;strokeColor=#b85450;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-19" target="NaIEnIuPGSC9cdyRH1B3-55" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="454" y="1153" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-65" value="②" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NaIEnIuPGSC9cdyRH1B3-54" vertex="1" connectable="0">
          <mxGeometry x="-0.4492" y="-2" relative="1" as="geometry">
            <mxPoint x="13" y="-5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-19" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=center;dashed=1;rotation=15;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="154" y="1078" width="190" height="100" as="geometry" />
        </mxCell>
        <mxCell id="bJewtTVBS80Dh4kZox1g-2" value="消息丢失" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;shadow=1;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="40" y="20" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bJewtTVBS80Dh4kZox1g-3" value="发送消息不一定会成功 ， 有可能会失败，此时代码中可能会抛出异常，也可能不会抛出异常" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="79" y="80" width="670" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bJewtTVBS80Dh4kZox1g-4" value="消息到达了MQ 了，MQ自己丢失了消息。" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="79" y="120" width="670" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bJewtTVBS80Dh4kZox1g-5" value="消费者处理数据异常" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="79" y="160" width="670" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bJewtTVBS80Dh4kZox1g-6" value="消息零丢失" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;shadow=1;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="40" y="240" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bJewtTVBS80Dh4kZox1g-7" value="发送 half 消息到MQ中，" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="79" y="320" width="670" height="40" as="geometry" />
        </mxCell>
        <mxCell id="IFNmVBiAPxGQ1xhLnvQ9-0" value="11" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="80" y="450" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-0" value="秒杀系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=0;align=center;fillColor=#f8cecc;strokeColor=#b85450;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="40" y="480" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-1" value="页面静态化 + 多级缓存技术" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;sketch=0;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="79" y="540" width="151" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-2" value="&lt;p style=&quot;line-height: 180%&quot;&gt;页面静态化： 页面是静态的，提前将从数据库里把这个页面需要的数据提取出来组装成一份静态数据放在别的地方，避免每次访问这个页面都要访问后端数据库&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;sketch=0;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="80" y="585" width="730" height="45" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-3" value="&lt;p style=&quot;line-height: 180%&quot;&gt;多级缓存： CDN + Nginx + redis 的多级缓存架构&lt;/p&gt;&lt;p style=&quot;line-height: 180%&quot;&gt;&lt;span&gt;将秒杀商品详情页的数据， 首先存放一份在离用户比较近的CDN上&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 180%&quot;&gt;Nginx 基于LUA 实现本地缓存&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;line-height: 180%&quot;&gt;Redis 缓存，提前将数据库中的数据加载到redis中&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;sketch=0;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="80" y="650" width="730" height="140" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-4" value="CDN" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="64" y="888" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-5" value="CDN" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="64" y="938" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-6" value="CDN" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="64" y="988" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-7" value="CDN" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="64" y="1038" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-23" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-9" target="NaIEnIuPGSC9cdyRH1B3-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="524" y="958" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-30" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-9" target="NaIEnIuPGSC9cdyRH1B3-28" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="364" y="878" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-9" value="Nginx 集群" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=0;align=center;fillColor=#eeeeee;strokeColor=#36393d;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="284" y="938" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-11" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="134" y="1068" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-10" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;rounded=0;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="174" y="1088" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-16" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.3333333333333333;exitDx=0;exitDy=0;exitPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="134" y="1018" as="targetPoint" />
            <Array as="points">
              <mxPoint x="214" y="1078" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-12" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;rounded=0;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="219" y="1088" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-17" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.3333333333333333;exitDx=0;exitDy=0;exitPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-13" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="135" y="958" as="targetPoint" />
            <Array as="points">
              <mxPoint x="254" y="1058" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-13" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;rounded=0;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="254" y="1088" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-14" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;rounded=0;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="294" y="1088" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-18" value="获取秒杀商品页面" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;sketch=0;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="24" y="918" width="21" height="120" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-20" value="用户" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;dashed=1;sketch=0;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="219" y="1188" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-32" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.55;entryY=1;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;elbow=vertical;entryPerimeter=0;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-24" target="NaIEnIuPGSC9cdyRH1B3-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-33" value="扣减库存" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NaIEnIuPGSC9cdyRH1B3-32" vertex="1" connectable="0">
          <mxGeometry x="-0.3176" y="-1" relative="1" as="geometry">
            <mxPoint x="-1" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-24" target="NaIEnIuPGSC9cdyRH1B3-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-39" value="库存为零" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NaIEnIuPGSC9cdyRH1B3-38" vertex="1" connectable="0">
          <mxGeometry x="-0.1955" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=open;endFill=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="624" y="958" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-24" value="秒杀系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="459" y="941.75" width="90" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-29" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-27" target="NaIEnIuPGSC9cdyRH1B3-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-34" value="预加载库存" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NaIEnIuPGSC9cdyRH1B3-29" vertex="1" connectable="0">
          <mxGeometry x="-0.2348" relative="1" as="geometry">
            <mxPoint x="-6" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-27" value="商品详情页系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="664" y="843" width="100" height="35" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-28" value="Redis 集群" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="449" y="841" width="100" height="37" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-35" value="缓存详情页相关信息" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=1;sketch=0;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="276.5" y="908" width="115" height="20" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-37" target="NaIEnIuPGSC9cdyRH1B3-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-41" value="通知nginx 拒绝请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NaIEnIuPGSC9cdyRH1B3-40" vertex="1" connectable="0">
          <mxGeometry x="0.1179" y="1" relative="1" as="geometry">
            <mxPoint x="40" y="-18" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-37" value="zk 集群" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="391.5" y="1028" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-47" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=open;endFill=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-45" target="NaIEnIuPGSC9cdyRH1B3-48" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="634" y="1048" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-49" value="拉取订单信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NaIEnIuPGSC9cdyRH1B3-47" vertex="1" connectable="0">
          <mxGeometry x="-0.4152" y="2" relative="1" as="geometry">
            <mxPoint x="-8" y="8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-45" value="mq 集群" style="shape=delay;whiteSpace=wrap;html=1;rounded=0;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="624" y="938" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-46" value="使用消息中间件 削峰" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="604" y="918" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-50" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=open;endFill=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-48" target="NaIEnIuPGSC9cdyRH1B3-51" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="704" y="1033" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-52" value="数据入库" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NaIEnIuPGSC9cdyRH1B3-50" vertex="1" connectable="0">
          <mxGeometry x="-0.2889" relative="1" as="geometry">
            <mxPoint x="8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-48" value="订单系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=0;align=center;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="584" y="1018" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-51" value="MySQL" style="shape=datastore;whiteSpace=wrap;html=1;rounded=0;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="744" y="1003" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-56" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;fillColor=#f8cecc;strokeColor=#b85450;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-55" target="NaIEnIuPGSC9cdyRH1B3-59" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="594" y="1048" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-57" value="支付成功 修改订单状态" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NaIEnIuPGSC9cdyRH1B3-56" vertex="1" connectable="0">
          <mxGeometry x="-0.1588" relative="1" as="geometry">
            <mxPoint x="-19" y="11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-55" value="支付系统" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="414" y="1131" width="70" height="36" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-59" value="mq 集群" style="shape=delay;whiteSpace=wrap;html=1;rounded=0;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="579" y="1127" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-63" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-61" target="NaIEnIuPGSC9cdyRH1B3-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-61" value="仓储服务" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="704" y="1097" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-64" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bJewtTVBS80Dh4kZox1g-1" source="NaIEnIuPGSC9cdyRH1B3-62" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="664" y="1148" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NaIEnIuPGSC9cdyRH1B3-62" value="物流服务" style="rounded=1;whiteSpace=wrap;html=1;shadow=1;sketch=0;align=center;" parent="bJewtTVBS80Dh4kZox1g-1" vertex="1">
          <mxGeometry x="724" y="1113" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yPtRCRyC-aFaaaqe8bWt-2" value="" style="group;rotation=-15;textOpacity=20;" vertex="1" connectable="0" parent="bJewtTVBS80Dh4kZox1g-1">
          <mxGeometry x="128" y="938" width="650" height="130" as="geometry" />
        </mxCell>
        <mxCell id="yPtRCRyC-aFaaaqe8bWt-3" value="&lt;span style=&quot;font-size: 49px&quot;&gt;&lt;font color=&quot;#b3b3b3&quot;&gt;蚂蚁不是ant - Mr.pan&lt;/font&gt;&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=0;opacity=40;textOpacity=20;rotation=-15;" vertex="1" parent="yPtRCRyC-aFaaaqe8bWt-2">
          <mxGeometry x="30" y="12" width="575" height="110" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="5Px1-IBBTDrRlaqh-BV2" name="第 4 页">
    <mxGraphModel dx="1420" dy="834" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-0" />
        <mxCell id="bsFeIYfOkqNymp_O0vPg-1" parent="bsFeIYfOkqNymp_O0vPg-0" />
        <mxCell id="APCVHtlR04her4zfNDe8-64" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;glass=0;dashed=1;sketch=0;align=left;dashPattern=1 4;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="443.5" y="3260" width="290.5" height="164" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-73" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;sketch=0;align=left;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="447" y="3264.5" width="281" height="67.5" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-33" style="edgeStyle=isometricEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.008;entryY=0.429;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#fa6800;strokeColor=#C73500;" parent="bsFeIYfOkqNymp_O0vPg-1" source="bsFeIYfOkqNymp_O0vPg-31" target="bsFeIYfOkqNymp_O0vPg-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-31" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="15" y="305" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-41" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.906;entryY=-0.018;entryDx=0;entryDy=0;elbow=vertical;startArrow=block;startFill=1;entryPerimeter=0;fillColor=#1ba1e2;strokeColor=#006EAF;" parent="bsFeIYfOkqNymp_O0vPg-1" source="bsFeIYfOkqNymp_O0vPg-3" target="bsFeIYfOkqNymp_O0vPg-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-42" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;startArrow=block;startFill=1;fillColor=#1ba1e2;strokeColor=#006EAF;" parent="bsFeIYfOkqNymp_O0vPg-1" source="bsFeIYfOkqNymp_O0vPg-3" target="bsFeIYfOkqNymp_O0vPg-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-3" value="各个实例节点之间无通信" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="310" y="60" width="300" height="120" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-5" value="Name Server1" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;fillColor=#d5e8d4;strokeColor=#82b366;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="340" y="70" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-6" value="Name Server3" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="350" y="135" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-7" value="Name Server2" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;fillColor=#d5e8d4;strokeColor=#82b366;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="480" y="80" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-0" style="edgeStyle=isometricEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;fillColor=#a20025;strokeColor=#6F0000;" parent="bsFeIYfOkqNymp_O0vPg-1" source="bsFeIYfOkqNymp_O0vPg-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="690" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-9" value="定时任务" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="490" y="125" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-10" value="NameServer 集群" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="395" y="20" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-24" style="edgeStyle=isometricEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;fillColor=#008a00;strokeColor=#005700;" parent="bsFeIYfOkqNymp_O0vPg-1" source="bsFeIYfOkqNymp_O0vPg-11" target="bsFeIYfOkqNymp_O0vPg-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-25" style="edgeStyle=isometricEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.78;entryY=1.025;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#008a00;strokeColor=#005700;" parent="bsFeIYfOkqNymp_O0vPg-1" source="bsFeIYfOkqNymp_O0vPg-11" target="bsFeIYfOkqNymp_O0vPg-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-45" style="edgeStyle=isometricEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;fillColor=#fa6800;strokeColor=#C73500;" parent="bsFeIYfOkqNymp_O0vPg-1" source="bsFeIYfOkqNymp_O0vPg-11" target="bsFeIYfOkqNymp_O0vPg-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-11" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="266" y="280" width="376" height="170" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-12" value="Broker 集群" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="410" y="260" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" source="bsFeIYfOkqNymp_O0vPg-13" target="bsFeIYfOkqNymp_O0vPg-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-13" value="Broker Master1" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="295" y="300" width="105" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-15" value="Broker Slave1" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="485" y="300" width="105" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" source="bsFeIYfOkqNymp_O0vPg-18" target="bsFeIYfOkqNymp_O0vPg-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-18" value="Broker Master2" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="295" y="380" width="105" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-19" value="Broker Slave2" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="485" y="380" width="105" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-27" value="p" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="45" y="320" width="75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-28" value="p" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="80" y="350" width="75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-29" value="p" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="20" y="350" width="75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-32" value="Producer&amp;nbsp; 集群" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="40" y="270" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-34" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="770" y="315" width="170" height="110" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-35" value="c" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="815" y="335" width="75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-36" value="c" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="850" y="365" width="75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-37" value="c" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="790" y="365" width="75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-38" value="Consumer 集群" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="805" y="285" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-43" value="send msg" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="170" y="320" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-44" value="receive msg" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="670" y="330" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-46" value="broker&amp;nbsp; discovery" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="150" y="200" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-47" value="broker&amp;nbsp; discovery" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="640" y="200" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="bsFeIYfOkqNymp_O0vPg-48" value="broker 启动之后，向nameserver 注册&lt;br&gt;每30s 发送一次心跳" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#005700;fillColor=#008a00;fontColor=#ffffff;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="360" y="210" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-1" value="每10s&amp;nbsp; ,检测一次注册时间，超过120s 未发送心跳的broker，从列表中删除" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#f8cecc;strokeColor=#b85450;align=left;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="690" y="50" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-2" value="data sync" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="410" y="385" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-3" value="data sync" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="404" y="305" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-4" value="通过负载均衡，选择一个broker 发送" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#C73500;fillColor=#fa6800;fontColor=#ffffff;dashed=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="10" y="420" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-5" value="以push 和 pull 两种方式，进行消息消费" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#C73500;fillColor=#fa6800;fontColor=#ffffff;dashed=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="730" y="440" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-6" value="也支持集群和广播的方式进行消费" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#C73500;fillColor=#fa6800;fontColor=#ffffff;dashed=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="745" y="470" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-8" value="Topic 路由注册中心，支持Broker的动态注册和发现" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#C73500;fillColor=#fa6800;fontColor=#ffffff;dashed=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="15" y="60" width="290" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-9" value="两个功能：&lt;br&gt;broker 管理&lt;br&gt;心跳检测" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#C73500;fillColor=#fa6800;fontColor=#ffffff;dashed=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="210" y="90" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-10" value="负责消息体的存储，投递 ，查询 以及服务高可用保证" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#C73500;fillColor=#fa6800;fontColor=#ffffff;dashed=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="280" y="470" width="300" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-11" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="230" y="600" width="100" height="280" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-12" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="240" y="610" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-13" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="240" y="650" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-14" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="240" y="690" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;fillColor=#e51400;strokeColor=#B20000;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-15" target="RX7h0JF1wBNoLadw7eKi-36" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="352" y="755" />
              <mxPoint x="352" y="579" />
              <mxPoint x="842" y="579" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-15" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="240" y="740" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#e51400;strokeColor=#B20000;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-16" target="RX7h0JF1wBNoLadw7eKi-51" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="410" y="805" />
              <mxPoint x="410" y="768" />
              <mxPoint x="837" y="768" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-16" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="240" y="790" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-17" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="240" y="840" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-18" value="Commit Log&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#82b366;fillColor=#d5e8d4;dashed=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="240" y="900" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-20" style="edgeStyle=isometricEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.464;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-19" target="RX7h0JF1wBNoLadw7eKi-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <object label="Actor" id="RX7h0JF1wBNoLadw7eKi-19">
          <mxCell style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;rounded=0;shadow=0;dashed=1;sketch=1;align=left;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
            <mxGeometry x="15" y="700" width="30" height="60" as="geometry" />
          </mxCell>
        </object>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-21" value="producer send&amp;nbsp; msg&lt;br&gt;Topic&amp;nbsp; queueId&amp;nbsp; Message" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;rotation=30;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="60" y="690" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-25" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="470" y="600" width="390" height="80" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-26" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="485" y="610" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-27" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="540" y="610" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-28" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="600" y="610" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-29" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="660" y="610" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-30" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="720" y="610" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-31" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="780" y="610" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-33" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.074;entryY=1.038;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-32" target="RX7h0JF1wBNoLadw7eKi-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-32" value="minOffset" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="455" y="710" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-34" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.074;entryY=1.038;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-35" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="733.8599999999999" y="690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-35" value="consumerOffset" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="675" y="736.96" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-36" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="827" y="610" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-37" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.074;entryY=1.038;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-38" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="848.8599999999999" y="683.04" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-38" value="maxOffset" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="805" y="730" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-39" value="ConsumerQueue0" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#006EAF;fillColor=#1ba1e2;fontColor=#ffffff;rotation=0;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="353" y="632" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-40" value="" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="465" y="795" width="390" height="80" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-41" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="480" y="805" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-42" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="535" y="805" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-43" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="595" y="805" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-44" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="655" y="805" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-45" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="715" y="805" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-46" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="775" y="805" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-47" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.074;entryY=1.038;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-48" target="RX7h0JF1wBNoLadw7eKi-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-48" value="minOffset" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="450" y="925" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-49" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.074;entryY=1.038;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-50" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="728.8599999999999" y="885" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-50" value="consumerOffset" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="670" y="931.96" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-51" value="" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;dashed=1;sketch=1;align=left;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="822" y="805" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-52" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.074;entryY=1.038;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-53" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="843.8599999999999" y="878.04" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-53" value="maxOffset" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="800" y="925" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-54" value="ConsumerQueue1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#006EAF;fillColor=#1ba1e2;fontColor=#ffffff;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="350" y="825" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-58" style="edgeStyle=entityRelationEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.703;entryY=1.038;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;dashed=1;fillColor=#008a00;strokeColor=#005700;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-57" target="RX7h0JF1wBNoLadw7eKi-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-59" style="edgeStyle=entityRelationEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;dashed=1;fillColor=#008a00;strokeColor=#005700;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-57" target="RX7h0JF1wBNoLadw7eKi-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-57" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;rounded=0;shadow=0;sketch=1;align=left;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="1060" y="700" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-60" value="commitLogOffset&amp;nbsp; msgSize tagsCode" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="353" y="556" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-61" value="commitLogOffset&amp;nbsp; msgSize tagsCode" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="408" y="745" width="210" height="20" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-63" value="发送的消息，以顺序写的方式存储文件中" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="105" y="840" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-64" value="&lt;p style=&quot;line-height: 170%&quot;&gt;消息主题以及元数据的存储主体 ，存储Producer 端写入的消息主题内容，内容时不定长的。单个文件默认大小的1G，文件名长度20位 ，左边补零，剩余未起始偏移量。&lt;br&gt;&lt;br&gt;第一个commitLog 文件文件名为 00000000000000000000 ， 当写满第一个文件后，开始写第二个文件 文件名 00000000010737441824&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="26.5" y="951.96" width="377.5" height="139.04" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-65" value="&lt;p style=&quot;line-height: 170%&quot;&gt;消息消费队列，引入的目的主要时提高消息消费的性能 ， Consumer 根据CosumerQueue 来查找待消费的消息 可以看成 topic 下 CommitLog 的索引文件&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;sketch=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="463" y="965" width="377.5" height="76" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-66" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="427" y="942" as="sourcePoint" />
            <mxPoint x="427" y="1105" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-68" value="Index File" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;sketch=1;align=center;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="363" y="892" width="84" height="36" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-81" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;dashed=1;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-70" target="RX7h0JF1wBNoLadw7eKi-78" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-82" value="后台线程每30s, 向nameserver 拉取信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="RX7h0JF1wBNoLadw7eKi-81" vertex="1" connectable="0">
          <mxGeometry x="0.3474" y="1" relative="1" as="geometry">
            <mxPoint x="99" y="-22" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-93" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;dashed=1;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-70" target="RX7h0JF1wBNoLadw7eKi-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-70" value="NameServer 集群" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;align=center;fillColor=#f8cecc;strokeColor=#b85450;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="358" y="1176" width="133" height="56" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-79" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-71" target="RX7h0JF1wBNoLadw7eKi-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-80" value="1. 先查询本地缓存获取路由信息，&lt;br&gt;如果没有则从nameserver 上拉取，并更新本地缓存" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="RX7h0JF1wBNoLadw7eKi-79" vertex="1" connectable="0">
          <mxGeometry x="-0.2667" relative="1" as="geometry">
            <mxPoint x="-23" y="-42" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-83" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-71" target="RX7h0JF1wBNoLadw7eKi-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-71" value="生产者集群" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;align=center;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="51" y="1343" width="93" height="57" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-74" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-72" target="RX7h0JF1wBNoLadw7eKi-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-75" value="0. 启动注册 ，每30s 发送一次心跳，&lt;br&gt;并上报Topic 路由信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="RX7h0JF1wBNoLadw7eKi-74" vertex="1" connectable="0">
          <mxGeometry x="-0.2184" relative="1" as="geometry">
            <mxPoint x="30" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-86" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-72" target="RX7h0JF1wBNoLadw7eKi-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-87" value="3. Broker 完成主从同步，并落盘，完成持久化" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="RX7h0JF1wBNoLadw7eKi-86" vertex="1" connectable="0">
          <mxGeometry x="0.3623" relative="1" as="geometry">
            <mxPoint x="3" y="-19" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-89" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="151" y="1388" as="targetPoint" />
            <mxPoint x="366" y="1388" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-96" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-72" target="RX7h0JF1wBNoLadw7eKi-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-72" value="Broker 集群" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;rounded=0;shadow=0;sketch=1;align=center;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="375" y="1319" width="99" height="99" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-90" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-73" target="RX7h0JF1wBNoLadw7eKi-70" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="495" y="1217" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-91" value="4. 消费者查询路由信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="RX7h0JF1wBNoLadw7eKi-90" vertex="1" connectable="0">
          <mxGeometry x="-0.3443" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-73" value="消费者集群" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;align=center;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="742" y="1343" width="88" height="49" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-78" value="本地topic 缓存" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;align=center;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="40" y="1392" width="81" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-84" value="2. 从路由中选择topic对应的队列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="174" y="1352" width="181" height="18" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-88" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=34.5;exitDy=0;exitPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="RX7h0JF1wBNoLadw7eKi-85" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="416" y="1423" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-85" value="CommitLog" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;rounded=0;shadow=0;sketch=1;align=center;size=17;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="381.5" y="1487" width="86" height="40" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-97" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="480" y="1381" as="targetPoint" />
            <mxPoint x="728" y="1381" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-92" value="本地topic 缓存" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;align=center;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="738" y="1382" width="81" height="26" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-94" value="负载均衡" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;align=center;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="191" y="1395" width="109" height="29" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-98" value="负载均衡" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;align=center;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="551" y="1389" width="109" height="29" as="geometry" />
        </mxCell>
        <mxCell id="RX7h0JF1wBNoLadw7eKi-99" value="5. 选择一个或几个消息队列进行消费" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="496" y="1347" width="203" height="18" as="geometry" />
        </mxCell>
        <mxCell id="d1ajIBj5hKWcyGYMw9yD-3" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="d1ajIBj5hKWcyGYMw9yD-0" target="d1ajIBj5hKWcyGYMw9yD-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d1ajIBj5hKWcyGYMw9yD-4" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="d1ajIBj5hKWcyGYMw9yD-0" target="d1ajIBj5hKWcyGYMw9yD-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="d1ajIBj5hKWcyGYMw9yD-0" value="master" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;align=center;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="133" y="1634" width="82" height="36" as="geometry" />
        </mxCell>
        <mxCell id="d1ajIBj5hKWcyGYMw9yD-1" value="slave" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;align=center;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="313" y="1602" width="82" height="36" as="geometry" />
        </mxCell>
        <mxCell id="d1ajIBj5hKWcyGYMw9yD-2" value="slave" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;align=center;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="318" y="1670" width="82" height="36" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-7" value="" style="group;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1" connectable="0">
          <mxGeometry x="80" y="1780" width="300" height="160" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-6" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="cmf_-4vBBN557PbOhyCy-7" vertex="1">
          <mxGeometry y="30" width="300" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-0" value="" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;" parent="cmf_-4vBBN557PbOhyCy-7" vertex="1">
          <mxGeometry x="10" y="40" width="280" height="110" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-1" value="Master" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="cmf_-4vBBN557PbOhyCy-7" vertex="1">
          <mxGeometry x="130" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-3" value="队列（MessageQueue）" style="shape=ext;margin=3;double=1;whiteSpace=wrap;html=1;align=center;" parent="cmf_-4vBBN557PbOhyCy-7" vertex="1">
          <mxGeometry x="115" y="50" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-4" value="队列（MessageQueue）" style="shape=ext;margin=3;double=1;whiteSpace=wrap;html=1;align=center;" parent="cmf_-4vBBN557PbOhyCy-7" vertex="1">
          <mxGeometry x="115" y="100" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-5" value="Topic" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="cmf_-4vBBN557PbOhyCy-7" vertex="1">
          <mxGeometry x="30" y="80" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-6" target="cmf_-4vBBN557PbOhyCy-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-17" value="" style="group;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1" connectable="0">
          <mxGeometry x="80" y="1970" width="300" height="160" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-18" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="cmf_-4vBBN557PbOhyCy-17" vertex="1">
          <mxGeometry y="30" width="300" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-19" value="" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;" parent="cmf_-4vBBN557PbOhyCy-17" vertex="1">
          <mxGeometry x="10" y="40" width="280" height="110" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-20" value="Master" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="cmf_-4vBBN557PbOhyCy-17" vertex="1">
          <mxGeometry x="130" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-21" value="队列（MessageQueue）" style="shape=ext;margin=3;double=1;whiteSpace=wrap;html=1;align=center;" parent="cmf_-4vBBN557PbOhyCy-17" vertex="1">
          <mxGeometry x="115" y="50" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-22" value="队列（MessageQueue）" style="shape=ext;margin=3;double=1;whiteSpace=wrap;html=1;align=center;" parent="cmf_-4vBBN557PbOhyCy-17" vertex="1">
          <mxGeometry x="115" y="100" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-23" value="Topic" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="cmf_-4vBBN557PbOhyCy-17" vertex="1">
          <mxGeometry x="30" y="80" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-18" target="cmf_-4vBBN557PbOhyCy-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-31" value="数据同步" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="424" y="2040" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-32" value="数据同步" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="420" y="1850" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-33" value="" style="group;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1" connectable="0">
          <mxGeometry x="490" y="1780" width="300" height="160" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-9" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="cmf_-4vBBN557PbOhyCy-33" vertex="1">
          <mxGeometry y="30" width="300" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-10" value="" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;" parent="cmf_-4vBBN557PbOhyCy-33" vertex="1">
          <mxGeometry x="10" y="40" width="280" height="110" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-11" value="Slave" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="cmf_-4vBBN557PbOhyCy-33" vertex="1">
          <mxGeometry x="130" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-12" value="队列（MessageQueue）" style="shape=ext;margin=3;double=1;whiteSpace=wrap;html=1;align=center;" parent="cmf_-4vBBN557PbOhyCy-33" vertex="1">
          <mxGeometry x="115" y="50" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-13" value="队列（MessageQueue）" style="shape=ext;margin=3;double=1;whiteSpace=wrap;html=1;align=center;" parent="cmf_-4vBBN557PbOhyCy-33" vertex="1">
          <mxGeometry x="115" y="100" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-14" value="Topic" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="cmf_-4vBBN557PbOhyCy-33" vertex="1">
          <mxGeometry x="30" y="80" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-34" value="" style="group;fillColor=#d5e8d4;strokeColor=#82b366;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1" connectable="0">
          <mxGeometry x="490" y="1970" width="300" height="160" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-25" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="cmf_-4vBBN557PbOhyCy-34" vertex="1">
          <mxGeometry y="30" width="300" height="130" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-26" value="" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;" parent="cmf_-4vBBN557PbOhyCy-34" vertex="1">
          <mxGeometry x="10" y="40" width="280" height="110" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-27" value="Slave" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="cmf_-4vBBN557PbOhyCy-34" vertex="1">
          <mxGeometry x="130" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-28" value="队列（MessageQueue）" style="shape=ext;margin=3;double=1;whiteSpace=wrap;html=1;align=center;" parent="cmf_-4vBBN557PbOhyCy-34" vertex="1">
          <mxGeometry x="115" y="50" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-29" value="队列（MessageQueue）" style="shape=ext;margin=3;double=1;whiteSpace=wrap;html=1;align=center;" parent="cmf_-4vBBN557PbOhyCy-34" vertex="1">
          <mxGeometry x="115" y="100" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-30" value="Topic" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="cmf_-4vBBN557PbOhyCy-34" vertex="1">
          <mxGeometry x="30" y="80" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-35" target="cmf_-4vBBN557PbOhyCy-37" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="299" y="2275.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-35" value="生产者" style="ellipse;whiteSpace=wrap;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="114" y="2248.01" width="77" height="55" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.851;entryDx=0;entryDy=0;entryPerimeter=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-37" target="cmf_-4vBBN557PbOhyCy-39" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="443" y="2275.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-46" value="写入消息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="cmf_-4vBBN557PbOhyCy-38" vertex="1" connectable="0">
          <mxGeometry x="0.1743" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-37" value="Broker" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="269" y="2235.5" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-39" value="" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="455" y="2176.63" width="90" height="197.75" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-40" target="cmf_-4vBBN557PbOhyCy-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-40" value="消息" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="455" y="2199" width="89.5" height="23" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-41" target="cmf_-4vBBN557PbOhyCy-50" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="584" y="2242" />
              <mxPoint x="584" y="2258" />
              <mxPoint x="728" y="2258" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-41" value="消息" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="455" y="2230" width="89.5" height="23" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-42" target="cmf_-4vBBN557PbOhyCy-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-42" value="消息" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="455.5" y="2261" width="89.5" height="23" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-43" target="cmf_-4vBBN557PbOhyCy-60" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="686" y="2300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-43" value="消息" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="455.5" y="2288.5" width="89.5" height="23" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-44" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="455.5" y="2329" width="89.5" height="23" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-45" value="CommitLog" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="554" y="2356.38" width="71" height="18" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-47" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="660" y="2173" width="269" height="49" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-48" value="ConsumeQueue 0" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="737" y="2150" width="107" height="18" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-49" value="物理位置" style="rounded=0;whiteSpace=wrap;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="670" y="2173" width="31" height="49" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-50" value="物理位置" style="rounded=0;whiteSpace=wrap;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="704.5" y="2173" width="31" height="49" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-51" value="物理物质" style="rounded=0;whiteSpace=wrap;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="739" y="2173" width="31" height="49" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-52" value="物理位置" style="rounded=0;whiteSpace=wrap;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="774" y="2173" width="31" height="49" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-53" value="物理位置" style="rounded=0;whiteSpace=wrap;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="812" y="2173" width="31" height="49" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-57" value="地址引用" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="610" y="2220" width="58" height="18" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-58" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="660" y="2314" width="269" height="49" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-59" value="ConsumeQueue 1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="737" y="2291" width="107" height="18" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-60" value="物理位置" style="rounded=0;whiteSpace=wrap;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="670" y="2314" width="31" height="49" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-67" value="地址引用" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="597" y="2278" width="58" height="18" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-69" value="除了存放 地址偏移量之外，还存储topic 和 tag hash code" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="652" y="2379" width="313" height="18" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-70" target="cmf_-4vBBN557PbOhyCy-72" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="203" y="2523.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-70" value="生产者" style="rounded=1;whiteSpace=wrap;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="60" y="2508" width="81" height="31" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-72" target="cmf_-4vBBN557PbOhyCy-80" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.004;entryY=0.576;entryDx=0;entryDy=0;entryPerimeter=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-72" target="cmf_-4vBBN557PbOhyCy-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-72" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="230" y="2462.75" width="210" height="120.25" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-73" value="Leader Broker" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="295" y="2437" width="86" height="18" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-74" target="cmf_-4vBBN557PbOhyCy-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-74" target="cmf_-4vBBN557PbOhyCy-76" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="406" y="2488" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-74" value="Dledger CommitLog" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="275" y="2475" width="120" height="26.5" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-75" value="ConsumeQueue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="245" y="2515" width="120" height="31" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-76" value="ConsumeQueue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="316" y="2548" width="120" height="31" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-80" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="546.75" y="2462.75" width="210" height="120.25" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-81" value="Follower Broker" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="607.75" y="2437" width="94" height="18" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-84" target="cmf_-4vBBN557PbOhyCy-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-84" target="cmf_-4vBBN557PbOhyCy-86" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="722.75" y="2488" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-84" value="Dledger CommitLog" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="591.75" y="2475" width="120" height="26.5" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-85" value="ConsumeQueue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="561.75" y="2515" width="120" height="31" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-86" value="ConsumeQueue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="632.75" y="2548" width="120" height="31" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-87" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="549.75" y="2625.75" width="210" height="120.25" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-88" value="Follower Broker" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="610.75" y="2600" width="94" height="18" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-91" target="cmf_-4vBBN557PbOhyCy-92" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-90" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="bsFeIYfOkqNymp_O0vPg-1" source="cmf_-4vBBN557PbOhyCy-91" target="cmf_-4vBBN557PbOhyCy-93" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="725.75" y="2651" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-91" value="Dledger CommitLog" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="594.75" y="2638" width="120" height="26.5" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-92" value="ConsumeQueue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="564.75" y="2678" width="120" height="31" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-93" value="ConsumeQueue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="635.75" y="2711" width="120" height="31" as="geometry" />
        </mxCell>
        <mxCell id="cmf_-4vBBN557PbOhyCy-96" value="写入消息" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="bsFeIYfOkqNymp_O0vPg-1" vertex="1">
          <mxGeometry x="460" y="2497" width="58" height="18" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-0" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;dashed=1;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-3" target="APCVHtlR04her4zfNDe8-18">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="344" y="3067" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-1" value="后台线程每30s, 向nameserver 拉取信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="APCVHtlR04her4zfNDe8-0">
          <mxGeometry x="0.3474" y="1" relative="1" as="geometry">
            <mxPoint x="99" y="-22" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-2" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;dashed=1;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-3" target="APCVHtlR04her4zfNDe8-23">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="842" y="3087" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-3" value="" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;align=center;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="480.5" y="2964" width="133" height="56" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-4" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-7" target="APCVHtlR04her4zfNDe8-3">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="303" y="3006" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-5" value="1. 先查询本地缓存获取路由信息，&lt;br&gt;如果没有则从nameserver 上拉取，并更新本地缓存" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="APCVHtlR04her4zfNDe8-4">
          <mxGeometry x="-0.2667" relative="1" as="geometry">
            <mxPoint x="-17" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-6" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-7" target="APCVHtlR04her4zfNDe8-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-7" value="生产者集群" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;align=center;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="173.5" y="3131" width="93" height="57" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-8" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-14" target="APCVHtlR04her4zfNDe8-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-9" value="0. 启动注册 ，每30s 发送一次心跳，&lt;br&gt;并上报Topic 路由信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="APCVHtlR04her4zfNDe8-8">
          <mxGeometry x="-0.2184" relative="1" as="geometry">
            <mxPoint x="30" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-10" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-14" target="APCVHtlR04her4zfNDe8-21">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="577" y="3246" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-11" value="&lt;font color=&quot;#ff00ff&quot;&gt;3. Broker 完成主从同步，并落盘，完成持久化&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="APCVHtlR04her4zfNDe8-10">
          <mxGeometry x="0.3623" relative="1" as="geometry">
            <mxPoint x="2" y="-14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-12" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=open;endFill=0;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="273.5" y="3176" as="targetPoint" />
            <mxPoint x="488.5" y="3176" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-13" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-14" target="APCVHtlR04her4zfNDe8-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-14" value="Broker 集群" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;rounded=0;shadow=0;sketch=1;align=center;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="497.5" y="3107" width="99" height="99" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-15" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;startArrow=none;startFill=0;endArrow=open;endFill=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-17" target="APCVHtlR04her4zfNDe8-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="617.5" y="3005" as="targetPoint" />
            <Array as="points">
              <mxPoint x="903" y="3052" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-16" value="4. 消费者查询路由信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="APCVHtlR04her4zfNDe8-15">
          <mxGeometry x="-0.3443" relative="1" as="geometry">
            <mxPoint x="30" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-17" value="消费者集群" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;sketch=1;align=center;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="864.5" y="3131" width="88" height="49" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-18" value="本地topic 缓存" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;align=center;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="162.5" y="3180" width="81" height="26" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-19" value="2. 从路由中选择topic对应的队列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="296.5" y="3140" width="181" height="18" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-20" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=34.5;exitDy=0;exitPerimeter=0;startArrow=none;startFill=0;endArrow=open;endFill=0;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-21">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="538.5" y="3211" as="targetPoint" />
            <Array as="points">
              <mxPoint x="508" y="3243" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-61" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=102;exitDy=35.5;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-21" target="APCVHtlR04her4zfNDe8-59">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="596" y="3302" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-62" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=102;exitDy=35.5;exitPerimeter=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-21" target="APCVHtlR04her4zfNDe8-60">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="598" y="3322" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-21" value="CommitLog(1G)" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;rounded=0;shadow=0;sketch=0;align=center;size=17;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="455.5" y="3275" width="102" height="39" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-22" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endArrow=open;endFill=0;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="602.5" y="3169" as="targetPoint" />
            <mxPoint x="850.5" y="3169" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-23" value="本地topic 缓存" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;align=center;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="860.5" y="3170" width="81" height="26" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-24" value="负载均衡" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;align=center;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="313.5" y="3183" width="109" height="29" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-85" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.564;entryY=0;entryDx=0;entryDy=0;dashed=1;shape=link;width=4;entryPerimeter=0;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-25" target="APCVHtlR04her4zfNDe8-84">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="833" y="3192" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-25" value="负载均衡" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;align=center;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="676" y="3177" width="109" height="29" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-26" value="5. 选择一个或几个消息队列进行消费" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="618.5" y="3135" width="203" height="18" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-27" value="" style="rounded=1;whiteSpace=wrap;html=1;sketch=0;glass=0;shadow=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="511.5" y="2970" width="73.5" height="45" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-28" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: helvetica; font-size: 12px; font-style: normal; font-weight: 400; letter-spacing: normal; text-align: center; text-indent: 0px; text-transform: none; word-spacing: 0px; background-color: rgb(248, 249, 250); display: inline; float: none;&quot;&gt;NameServer 集群&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="453.5" y="2930" width="104" height="28" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-29" value="&lt;font color=&quot;#ff8000&quot;&gt;RouteInfoManager:&amp;nbsp; &amp;nbsp;HashMap 存储&lt;/font&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- 路由表：topicQueueTable&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- Broker基础信息：brokerAddrTable&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- 集群信息：clusterAddrTable&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- 状态信息：brokerLiveTable&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;- FilterServer列表：filterServerTable" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;shadow=0;glass=0;sketch=0;position2=0;size=27;position=0.19;opacity=20;align=left;dashed=1;dashPattern=1 1;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="603.5" y="2854" width="223" height="119" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.58;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;fillColor=#1ba1e2;strokeColor=#006EAF;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-30" target="APCVHtlR04her4zfNDe8-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-30" value="定时任务" style="ellipse;whiteSpace=wrap;html=1;shadow=0;glass=0;sketch=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="521.5" y="2994" width="55" height="19" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-33" value="&lt;p style=&quot;line-height: 150%&quot;&gt;每10s 扫描brokerLiveTable，根据心跳上报的时间+120 ，与当前时间进行判断，120内未收到心跳信息，则删除该Broker,并关闭Socket连接。&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="853.5" y="2933" width="204" height="64" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-34" value="&lt;font style=&quot;font-size: 12px&quot;&gt;NameSrv&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="517.75" y="2975" width="61" height="13" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-7" target="APCVHtlR04her4zfNDe8-7">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="139" y="3139" />
              <mxPoint x="139" y="3160" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-38" value="0.获取producer 实例" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="18" y="3131" width="112" height="22" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-39" value="1.调用producer.start()" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="15" y="3155" width="121" height="20" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-40" value="2. producer.send()&amp;nbsp; &amp;nbsp; &amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="15" y="3175" width="121" height="20" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-41" value="" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;align=left;rotation=-170;size=60;position=0.12;position2=0.48;base=17;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="36.4" y="3191.77" width="110.96" height="109.35" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-42" value="1. 参数校验" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="34.5" y="3254" width="96" height="14" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-44" value="2. defaultMQProducerImpl.send(msg)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="45" y="3275" width="214.5" height="14" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-45" value="3. 校验信息，查找路由" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="45" y="3336" width="133" height="14" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-46" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;align=left;size=0.5;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="175.5" y="3309" width="23" height="66" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-48" value="1. 从缓存中过去主题对应的路由信息" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="195.5" y="3305" width="214.5" height="14" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-49" value="2. 缓存为空，从NameServer获取" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="206" y="3336" width="179.5" height="14" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-50" value="3. 使用默认主题获取" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="201" y="3367" width="120" height="14" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-52" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-51">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="158.5" y="3425" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-51" value="4. 选择队列" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="45" y="3418" width="64.5" height="14" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-54" value="取模 % 并规避上次获取到Broker， 达到均衡的效果" style="text;html=1;strokeColor=#006EAF;fillColor=#1ba1e2;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;fontColor=#ffffff;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="202.75" y="3430" width="289.5" height="20" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-56" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;align=left;size=0.5;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="168" y="3392" width="23" height="66" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-57" value="故障延迟机制" style="text;html=1;strokeColor=#006EAF;fillColor=#1ba1e2;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;fontColor=#ffffff;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="202.75" y="3396" width="83.25" height="20" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-58" value="5. 发送消息" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="45" y="3460" width="64.5" height="14" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-59" value="consumeQueue" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;align=left;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="623.5" y="3272.25" width="93" height="19.5" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-60" value="index" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;align=left;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="627" y="3309.5" width="45" height="16.5" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-63" value="消息全量存储在CommitLog中，然后异步生成转发任务更新 consumerQueue 和Index 文件，如果消息成功存储到commitlog ,未转发到 consumer Queue 和Index ， 就造成了消息不一致 ， 可通过abort 文件进行修复" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;dashed=1;dashPattern=1 1;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="450.12" y="3336" width="278.75" height="85" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-65" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;shadow=0;glass=0;sketch=0;align=left;rotation=-45;size=0.5;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="577.53" y="3213.16" width="22.72" height="31" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-69" value="同步落盘" style="text;html=1;strokeColor=#0e8088;fillColor=#b0e3e6;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="588" y="3195" width="63" height="17" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-70" value="异步落盘" style="text;html=1;strokeColor=#10739e;fillColor=#b1ddf0;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;glass=0;sketch=0;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="610" y="3220" width="66" height="16.75" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-74" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-72" target="APCVHtlR04her4zfNDe8-73">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="795" y="3298" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-75" value="删除72小时之前创建的文件" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="APCVHtlR04her4zfNDe8-74">
          <mxGeometry x="-0.2932" y="1" relative="1" as="geometry">
            <mxPoint x="25" y="8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-72" value="定时任务" style="ellipse;whiteSpace=wrap;html=1;shadow=0;glass=0;sketch=0;align=center;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="762.75" y="3354" width="63.5" height="31.5" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-78" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;dashed=1;" edge="1" parent="bsFeIYfOkqNymp_O0vPg-1" source="APCVHtlR04her4zfNDe8-79">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="404" y="3267.5" as="sourcePoint" />
            <mxPoint x="447" y="3295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-79" value="采用顺序写和零拷贝技术提升性能" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;sketch=0;align=center;fillColor=#647687;strokeColor=#314354;fontColor=#ffffff;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="314.5" y="3244.16" width="107" height="40" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-81" value="一个消费者可以包含多个消费者，每个消费者组可订阅多个主题，消费者组之间有广播和集群两种模式" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;sketch=0;align=left;fillColor=#ffe6cc;strokeColor=#d79b00;dashed=1;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="973" y="3129.5" width="227" height="54.5" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-82" value="广播模式：主题下的同一条消息，被集群下的所有的消费者消费一次" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;sketch=0;align=left;fillColor=#f8cecc;strokeColor=#b85450;dashed=1;dashPattern=1 2;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="973" y="3188" width="227" height="39" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-83" value="集群模式：主题下的同一条消息只允许被一个消费者消费" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;sketch=0;align=left;fillColor=#f8cecc;strokeColor=#b85450;dashed=1;dashPattern=1 4;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="973" y="3231" width="227" height="39" as="geometry" />
        </mxCell>
        <mxCell id="APCVHtlR04her4zfNDe8-84" value="消费者负载策略：一个消息队列同一个时间只允许被一个消费者消费，一个消费者可以消费多个队列" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;dashed=1;dashPattern=1 4;sketch=0;align=left;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="bsFeIYfOkqNymp_O0vPg-1">
          <mxGeometry x="788" y="3213.16" width="172" height="68" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
